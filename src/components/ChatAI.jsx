import React, {useState} from 'react'
import axios from 'axios'
export default function ChatAI(){const [text,setText]=useState('');const [msgs,setMsgs]=useState([{from:'ai',text:'Hello — ask me market questions.'}]);const [loading,setLoading]=useState(false);async function send(){if(!text) return;setMsgs(m=>[...m,{from:'user',text}]);setText('');setLoading(true);try{await new Promise(r=>setTimeout(r,800));setMsgs(m=>[...m,{from:'ai',text:'(Mock) The market looks optimistic — check ETH/BTC spreads.'}])}catch(e){setMsgs(m=>[...m,{from:'ai',text:'Error contacting AI.'}])}finally{setLoading(false)}}return (<section className='card chatai'><div className='hdr'>Chat AI</div><div className='messages'>{msgs.map((m,i)=>(<div key={i} style={{marginBottom:10,opacity:m.from==='ai'?1:0.95}}><div style={{fontSize:12,fontWeight:700}}>{m.from.toUpperCase()}</div><div style={{fontSize:14}}>{m.text}</div></div>))}</div><div className='input'><input value={text} onChange={e=>setText(e.target.value)} placeholder='Ask the AI about markets, spreads, or signals...' /><button className='badge' onClick={send} disabled={loading}>{loading? '...' : 'Send'}</button></div></section>)}
